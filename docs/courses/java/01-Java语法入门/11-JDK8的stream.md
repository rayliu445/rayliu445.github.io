---
title: 11-网络编程
author: Ray
date: 2020/10/02 21:30
categories:
 - Java生态
tags:
 - Java
 - Java基础
 - JDK
 - 开发环境
---
## Stream

Stream不是**集合元素，他不是数据结构并不保存数据**，他是有关算法和计算的，更像是一个高级版本的**Iterator**。  
原始版本的 Iterator，用户只能显式地一个一个遍历元素并对其执行某些操作；高级版本的 Stream，用户只要给出需要对其包含的元素执行什么操作，比如 “过滤掉长度大于 10 的字符串”、“获取每个字符串的首字母”等，Stream 会隐式地在内部进行遍历，做出相应的数据转换。  
Stream 就如同一个迭代器（Iterator），单向，不可往复，数据只能遍历一次，遍历过一次后即用尽了，就好比流水从面前流过，一去不复返。  
流的构成
当我们使用一个流的时候，通常包括三个基本步骤：
获取一个数据源（source）→ 数据转换→执行操作获取想要的结果，每次转换原有 Stream 对象不改变，返回一个新的 Stream 对象（可以有多次转换），这就允许对其操作可以像链条一样排列，变成一个管道，如下图所示。
流的操作类型分为两种：
Intermediate(中间)：一个流可以后面跟随零个或多个intermediate操作。其目的主要是打开流，做出某种程度的数据映射/过滤，然后返回一个新的流，交给下一个操作使用。这类操作都是惰性化的（lazy），就是说，仅仅调用到这类方法，并没有真正开始流的遍历。
Terminal：一个流只能有一个 terminal 操作，当这个操作执行后，流就被使用“光”了，无法再被操作。所以这必定是流的最后一个操作。Terminal 操作的执行，才会真正开始流的遍历，并且会生成一个结果，或者一个 side effect。

### 流的使用

#### 创建Stream

1. Stream.of()
2. 基于数组或者Collection
   * 数组 Arrays.stream(数组);
   * Collection 直接调用stream方法
3. 使用其他类的相关方法
   Files.lines(Path.get("path"));

#### map

**把一个stream转换成另一个stream**,其实就是对每一个元素进行运算，映射到另一个新的stream

#### filter

过滤

#### reduce

将所有元素聚合成一个结果

#### 输出集合

#### 其他操作

##### 转换

##### 聚合

reduce map count

##### 合并

##### 并行
