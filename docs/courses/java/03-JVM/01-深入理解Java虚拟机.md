---
title: 01-深入理解Java虚拟机
author: Ray
date: 2020/10/02 21:30
categories:
 - Java生态
tags:
 - Java
 - Java基础
 - JDK
 - JVM
---
## 一、历史背景

### 为什么要学习JVM

我当年校招的时候买了这本书,但是经常觉得这本书里面的内容晦涩难懂,也可能是我前置知识铺垫的太少。总之,读了好几次都放弃掉了,现在重新捡起习作这个习惯,就从这个老大难开始。

### JVM的发展史

## 二、自动内存管理

### 2. Java内存区域于内存溢出异常

#### 2.1 内存区域(重点)

![内存区域](https://raw.githubusercontent.com/aryangzhu/blogImage/master/blogImage/imagesJVM%E5%86%85%E5%AD%98%E5%8C%BA%E5%9F%9F20241023.png)

##### 公共

###### 1. 堆

###### 2. 方法区

##### 私有

###### 1. 虚拟机线程栈

###### 2. 本地方法栈

###### 3. 程序计数器

#### 2.2. 常见的内存溢出异常

1. 堆内存溢出
2. 栈内存溢出

### 3. 垃圾收集器与内存分配策略

### 4. 虚拟机吸能监控、故障处理工具

### 5. 调优

## 三、虚拟机执行子系统

### 6、类文件结构

这里给大家推荐一个idea的插件,**jclasslib**，可以更加直观地查看class文件中的结构都有什么。

#### Class类文件的结构

##### 1. 魔数

##### 2. 常量池

##### 3. 访问标志

##### 4. 类索引、父类索引与接口索引集合

##### 5. 字段表集合

##### 6. 方法表集合

##### 7. 属性表集合

#### 字节码指令

##### 1. 字节码与数据类型

##### 2. 加载和存储指令

##### 3. 运算指令

##### 4. 类型转换命令

##### 5. 对象创建与访问指令

##### 6. 操作数栈管理指令

##### 7. 控制转移指令

##### 8. 方法调用和方法返回指令

##### 9. 异常处理指令

### 7、类加载机制

#### 1. 概述

借用书上的一句话，这一块内容主要讲的是class文件中的信息进入到虚拟机中发生什么变化。

#### 2. 类加载的时机

下图展示了类加载的7个阶段,其中验证、准备和解析统称为连接
![类加载时机](https://raw.githubusercontent.com/aryangzhu/blogImage/master/blogImage/images%E7%B1%BB%E5%8A%A0%E8%BD%BD%E6%97%B6%E6%9C%BA20241023.png)

#### 3. 类加载的过程

##### 1. 加载

##### 2. 验证

##### 3. 准备

##### 4. 解析

##### 5. 初始化

#### 4. 类加载器

#### 5. Java模块化系统

写在最后
最近一直在准备面试,但是简历一直无人问津,索性先沉下心来学学JVM。我也不确定看这玩意儿对面试有没有帮助,说实话很怕花很多时间去研究但是没有收获期望的回报。
参考资料
周志明-《深入理解Java虚拟机》
[知乎文章](https://zhuanlan.zhihu.com/p/98337005)
怕什么真理无穷,进一步有进一步的欢喜
