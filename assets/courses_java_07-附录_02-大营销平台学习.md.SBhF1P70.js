import{_ as n}from"./chunks/ArticleMetadata.TT7jIO3o.js";import{_ as s,D as h,o as r,c,I as p,w as E,k as o,a as m,R as d,b as g,e as u}from"./chunks/framework.FHZ5yb6k.js";import"./chunks/md5.0oexlRJv.js";const D=JSON.parse('{"title":"大营销平台学习","description":"","frontmatter":{"title":"大营销平台学习","author":"ray","date":"2025/02/23 11:29","categories":["项目实战"],"tags":["Java","营销平台"]},"headers":[],"relativePath":"courses/java/07-附录/02-大营销平台学习.md","filePath":"courses/java/07-附录/02-大营销平台学习.md","lastUpdated":1756808731000}'),_={name:"courses/java/07-附录/02-大营销平台学习.md"},b=o("h1",{id:"大营销平台学习",tabindex:"-1"},[m("大营销平台学习 "),o("a",{class:"header-anchor",href:"#大营销平台学习","aria-label":'Permalink to "大营销平台学习"'},"​")],-1),A=d('<h2 id="_1-领域驱动设计项目" tabindex="-1">1.领域驱动设计项目 <a class="header-anchor" href="#_1-领域驱动设计项目" aria-label="Permalink to &quot;1.领域驱动设计项目&quot;">​</a></h2><p>之前我有写过领域驱动的博客，可以先去了解一下。</p><h3 id="如何在本项目中使用ddd" tabindex="-1">如何在本项目中使用DDD <a class="header-anchor" href="#如何在本项目中使用ddd" aria-label="Permalink to &quot;如何在本项目中使用DDD&quot;">​</a></h3><h4 id="分析需求" tabindex="-1">分析需求 <a class="header-anchor" href="#分析需求" aria-label="Permalink to &quot;分析需求&quot;">​</a></h4><p>当我们拿到需求还是和之前的开发模式，要对需求进行一个分析，目前我们主线任务是抽奖，然后我们要如何去设计这个抽奖</p><ol><li>怎么抽奖？</li><li>抽什么奖？</li></ol><p>这是我能想到的设计需要考虑的问题，接下来我们小傅哥是如何设计的</p><p><img src="https://raw.githubusercontent.com/rayliu445/blogImage/master/blogImage/%E5%A4%A7%E8%90%A5%E9%94%80%E6%8A%BD%E5%A5%96%E9%9C%80%E6%B1%82%E5%9B%BE20250406.png" alt=""></p><p>可以看到，我的思考对于业务触感还是比较迟钝</p><p>思考的完整性不同，导致整理出来的需求也就不同，下面是小傅哥的整理出来的需求</p><ol><li>整体概率相加，总和为1或者分值计算，概率范围千分位</li><li>抽奖为免费抽奖次数 + 用户消耗个人积分抽奖</li><li>抽奖活动可给用户分配可抽奖次数，通过点击签到发放</li><li>活动延伸配置用户库存消耗管理，单独提供表配置各类库存 用户可用总库存、用户可用日库存</li><li>部分抽奖规则，需要抽奖n次后解锁，才能有机会抽取</li><li>抽奖完成增加（运气值/积分值/抽奖次数）记录，让用户获得奖品。</li><li>奖品对接，自身的积分、内部系统的奖品</li><li>随机积分，发给你积分。</li><li>黑名单用户抽奖，则给予固定的奖品。</li></ol><p>上面的大部分工作都是产品来做的，但是由于这个是学习项目，我也要充当产品的角色去思考。接下来就是梳理业务流程，产品会给我流程图(之前工作就有评审先行，或者PRD文档)，那我就要去思考流程图中的关键节点如何设计(这个没法一步到位，只能慢慢提升)，比如说需求中的第1点这个属于哪个领域，我觉得小傅哥的那个业务流程图太快出来了，所以导致我们不知道为什么就那样设计了</p><h4 id="领域建模" tabindex="-1">领域建模 <a class="header-anchor" href="#领域建模" aria-label="Permalink to &quot;领域建模&quot;">​</a></h4><h5 id="_1-用例图" tabindex="-1">1.用例图 <a class="header-anchor" href="#_1-用例图" aria-label="Permalink to &quot;1.用例图&quot;">​</a></h5><p>用例图就是用户和系统交互的最简表示形式，还是以小傅哥的用例图为例</p><p><img src="https://raw.githubusercontent.com/rayliu445/blogImage/master/blogImage/%E5%A4%A7%E8%90%A5%E9%94%80%E7%94%A8%E4%BE%8B%E5%9B%BE20250406.png" alt=""></p><p>上面用户和传统的电商项目一致，无非就是用户-&gt;运营，但是用户侧的交互要比运营侧的交互更加的多(这点和toG电商还是有不同的，因为中间有审核人员这么一项)</p><h5 id="_2-事件风暴定义" tabindex="-1">2.事件风暴定义 <a class="header-anchor" href="#_2-事件风暴定义" aria-label="Permalink to &quot;2.事件风暴定义&quot;">​</a></h5><p>这里要深入讲的话，太过于复杂我们只需要知道，是由领域事件来作为驱动</p><p><img src="https://raw.githubusercontent.com/rayliu445/blogImage/master/blogImage/%E5%A4%A7%E8%90%A5%E9%94%80%E4%BA%8B%E4%BB%B6%E9%A3%8E%E6%9A%B420250406.png" alt=""></p><p>比较重要的两个就是<strong>决策命令</strong>和<strong>领域事件</strong></p><p>重点来了，上面的意义图就是我们每次建模想要的最终结果。<strong>一个用户，通过一个策略命令，使用领域对象，通过业务流程，完成2个领域事件，调用1次外部接口的过程</strong>。</p><h5 id="_3-领域事件的挖掘" tabindex="-1">3.领域事件的挖掘 <a class="header-anchor" href="#_3-领域事件的挖掘" aria-label="Permalink to &quot;3.领域事件的挖掘&quot;">​</a></h5><p>这一步相当重要，因为我们要对照业务流程来发掘领域事件，宁可多也不要少，因为这关乎到我们业务流程实际上能不能走下去，当然，后面的再审核也必不可少如果你是owner的话，你要对这一步格外的关心，不然系统的稳健性就会很差。</p><p><img src="https://raw.githubusercontent.com/rayliu445/blogImage/master/blogImage/%E5%A4%A7%E8%90%A5%E9%94%80%E9%A2%86%E5%9F%9F%E4%BA%8B%E4%BB%B6%E6%8C%96%E6%8E%9820250406.png" alt=""></p><p>关于上面的事件，我其实还有疑问的，业务流程图是在这个时候出来吗？还是说拿到产品prd文档之后就要梳理出业务流程图，我觉得拿到prd文档之后就画出业务流程图对我来说有点困难，也可能是我水平不行，小傅哥是需求出来就有业务流程图的，然后再进行领域事件的挖掘，我暂且以他的工作流程为准</p><p><img src="https://raw.githubusercontent.com/rayliu445/blogImage/master/blogImage/%E5%A4%A7%E8%90%A5%E9%94%80%E4%B8%9A%E5%8A%A1%E6%B5%81%E7%A8%8B20250406.png" alt=""></p><p>可以看到上面的领域事件都是业务流程上的一些关键节点，例如，点击签到之后添加签到流水完成，抽奖动作之后抽奖单的创建和的用户账户额度扣减</p><h5 id="_4-识别领域角色和对象" tabindex="-1">4.识别领域角色和对象 <a class="header-anchor" href="#_4-识别领域角色和对象" aria-label="Permalink to &quot;4.识别领域角色和对象&quot;">​</a></h5><p>有了领域事件之后，如何将这些领域事件进行串联，其实通过<strong>决策命令</strong>进行串联。</p><p><img src="https://raw.githubusercontent.com/rayliu445/blogImage/master/blogImage/%E5%A4%A7%E8%90%A5%E9%94%80%E4%B8%B2%E8%81%94%E9%A2%86%E5%9F%9F%E4%BA%8B%E4%BB%B620250407.png" alt=""></p><p>作为新手，我们需要按照事件风暴围绕领域事件去串联决策命令-业务流程-领域事件。我看小傅哥的实体对象都是在决策命令上，不知道为什么这么设计</p><h5 id="_5-划分领域边界" tabindex="-1">5.划分领域边界 <a class="header-anchor" href="#_5-划分领域边界" aria-label="Permalink to &quot;5.划分领域边界&quot;">​</a></h5><h6 id="_5-1-圈出领域" tabindex="-1">5.1 圈出领域 <a class="header-anchor" href="#_5-1-圈出领域" aria-label="Permalink to &quot;5.1 圈出领域&quot;">​</a></h6><p><img src="https://raw.githubusercontent.com/rayliu445/blogImage/master/blogImage/%E5%A4%A7%E8%90%A5%E9%94%80%E5%9C%88%E5%87%BA%E9%A2%86%E5%9F%9F20250407.png" alt=""></p><h6 id="_5-2-领域边界" tabindex="-1">5.2 领域边界 <a class="header-anchor" href="#_5-2-领域边界" aria-label="Permalink to &quot;5.2 领域边界&quot;">​</a></h6><p><img src="https://raw.githubusercontent.com/rayliu445/blogImage/master/blogImage/%E5%A4%A7%E8%90%A5%E9%94%80%E9%A2%86%E5%9F%9F%E8%BE%B9%E7%95%8C20250407.png" alt=""></p><p>现在我们再回过头来重新从用户角度将领域串起来(注意，是领域而不是领域事件)</p><h5 id="_6-研发详细设计-重点" tabindex="-1">6.研发详细设计(重点) <a class="header-anchor" href="#_6-研发详细设计-重点" aria-label="Permalink to &quot;6.研发详细设计(重点)&quot;">​</a></h5><h6 id="_6-1-实体对象" tabindex="-1">6.1 实体对象 <a class="header-anchor" href="#_6-1-实体对象" aria-label="Permalink to &quot;6.1 实体对象&quot;">​</a></h6><p><img src="https://raw.githubusercontent.com/rayliu445/blogImage/master/blogImage/%E5%A4%A7%E8%90%A5%E9%94%80%E5%AE%9E%E4%BD%93%E5%AF%B9%E8%B1%A1%E8%AE%BE%E8%AE%A120250407.png" alt=""></p><h6 id="_6-2-流程设计" tabindex="-1">6.2 流程设计 <a class="header-anchor" href="#_6-2-流程设计" aria-label="Permalink to &quot;6.2 流程设计&quot;">​</a></h6><p>小傅哥在这里给了时序图，我们可以看到整个逻辑相对来说并没有那么复杂</p><p><img src="https://raw.githubusercontent.com/rayliu445/blogImage/master/blogImage/%E5%A4%A7%E8%90%A5%E9%94%80%E6%97%B6%E5%BA%8F%E5%9B%BE%E8%AE%BE%E8%AE%A120250407.png" alt=""></p><h2 id="_2-抽奖策略领域" tabindex="-1">2.抽奖策略领域 <a class="header-anchor" href="#_2-抽奖策略领域" aria-label="Permalink to &quot;2.抽奖策略领域&quot;">​</a></h2><h3 id="_2-1抽奖概率装配" tabindex="-1">2.1抽奖概率装配 <a class="header-anchor" href="#_2-1抽奖概率装配" aria-label="Permalink to &quot;2.1抽奖概率装配&quot;">​</a></h3><h3 id="子规则领域" tabindex="-1">子规则领域 <a class="header-anchor" href="#子规则领域" aria-label="Permalink to &quot;子规则领域&quot;">​</a></h3>',47);function B(a,q,f,k,I,P){const l=n,i=h("ClientOnly");return r(),c("div",null,[b,p(i,null,{default:E(()=>{var e,t;return[(((e=a.$frontmatter)==null?void 0:e.aside)??!0)&&(((t=a.$frontmatter)==null?void 0:t.showArticleMetadata)??!0)?(r(),g(l,{key:0,article:a.$frontmatter},null,8,["article"])):u("",!0)]}),_:1}),A])}const C=s(_,[["render",B]]);export{D as __pageData,C as default};
